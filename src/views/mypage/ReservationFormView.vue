<template>
    <div id="wrap">
        <AppHeader />
        <div id="reservationForm">
            <SideBar />
            <div class="container">
                <div class="h2Box1">
                    <h2>Í∞ÄÍ≤åÏ†ïÎ≥¥</h2>
                </div>
                <div class="managerInfor">
                    <div class="managerInfor2">
                        <div>
                            <img v-bind:src="`${this.$store.state.apiBaseUrl}/upload/${businessVo.logo}`"
                                style="margin-left:30px; width: 220px;height: 220px; border-radius: 5%;">
                        </div>
                        <div class="managerInfor3">
                            <label>Îß§Ïû•Î™Ö</label>
                            <p>{{ businessVo.title }}</p>
                            <label>Ï†ÑÌôîÎ≤àÌò∏</label>
                            <p>{{ businessVo.bPhone }}</p>
                            <label>Ïû•ÏÜå</label>
                            <p>{{ businessVo.bAddress }} {{ businessVo.bdAddress }}</p>
                            <label>ÌèâÍ∑†Î≥ÑÏ†ê</label>
                            <p>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê {{ businessVo.averageStar }}</p>
                        </div>
                    </div>

                </div>
                <form>
                    <h2>üìÖ ÎÇ†ÏßúÏôÄ ÏãúÍ∞ÑÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî</h2>
                    <div class="choiceBox">
                        <div class="calendar">
                            <Datepicker />
                        </div>
                        <div class="time">
                            <p>Ïò§Ï†Ñ</p>
                            <button type="button" :class="{ selected: reserveVo.rtTime === '10:00' }"
                                @click="toggleTime('10:00')">10:00</button>
                            <button type="button" :class="{ selected: reserveVo.rtTime === '11:00' }"
                                @click="toggleTime('11:00')">11:00</button>
                            <p>Ïò§ÌõÑ</p>
                            <button type="button" :class="{ selected: reserveVo.rtTime === '14:00' }"
                                @click="toggleTime('14:00')">14:00</button>
                            <button type="button" :class="{ selected: reserveVo.rtTime === '15:00' }"
                                @click="toggleTime('15:00')">15:00</button>
                            <button type="button" :class="{ selected: reserveVo.rtTime === '16:00' }"
                                @click="toggleTime('16:00')">16:00</button>
                            <button type="button" :class="{ selected: reserveVo.rtTime === '17:00' }"
                                @click="toggleTime('17:00')">17:00</button>
                        </div>
                        {{ this.reserveVo.rtTime }}
                        <!-- v-bind:key="i" v-for="(reserveVo, i) in reserveList" -->
                    </div>
                    <div class="reservationBox">

                        <div class="petChoice">
                            <div class="petChoice" style="font-size: 16px; font-weight: bold">Î∞òÎ†§Í≤¨ ÏÑ†ÌÉù</div>
                            <span v-for="dogVo in dogList" :key="dogVo.dogNo">
                                {{ dogVo.dogNo }}
                                <label :for="'pet-' + dogVo.dogNo">{{ dogVo.dogName }}</label>
                                <input type="radio" name="pet" :id="'pet-' + dogVo.dogNo" :value="dogVo.dogNo"
                                    @change="selectedDogClick" v-model="selectedDog">
                            </span>

                        </div>

                        <div class="character">
                            <label>ÌäπÏù¥ÏÇ¨Ìï≠</label>
                            <button type="button"
                                :style="{ backgroundColor: dogVo.skin ? '#236C3F' : 'white', color: dogVo.skin ? 'white' : 'black' }"
                                @click="toggleSkinStatus">ÌîºÎ∂ÄÎ≥ë</button>
                            <button type="button"
                                :style="{ backgroundColor: dogVo.heart ? '#236C3F' : 'white', color: dogVo.heart ? 'white' : 'black' }"
                                @click="toggleHeartStatus">Ïã¨Ïû•ÏßàÌôò</button>
                            <button type="button"
                                :style="{ backgroundColor: dogVo.marking ? '#236C3F' : 'white', color: dogVo.marking ? 'white' : 'black' }"
                                @click="toggleMarkingStatus">ÎßàÌÇπ</button>
                            <button type="button"
                                :style="{ backgroundColor: dogVo.mounting ? '#236C3F' : 'white', color: dogVo.mounting ? 'white' : 'black' }"
                                @click="toggleMountingStatus">ÎßàÏö¥ÌåÖ</button>


                            <div class="bite">
                                <div class="biteRange">
                                    <label>ÏûÖÏßàÏ†ïÎèÑ</label>
                                    <div class="biteRange2">
                                        <input type="range" min="1" max="3" step="1" list="tickmarks"
                                            v-model="dogVo.bite">
                                        <datalist id="tickmarks">
                                            <option value="1"></option>
                                            <option value="2"></option>
                                            <option value="3"></option>
                                        </datalist>
                                    </div>
                                </div>
                                <div class="pbox">
                                    <p>Ìïò</p>
                                    <p>Ï§ë</p>
                                    <p>ÏÉÅ</p>
                                </div>



                            </div>
                            <textarea placeholder="Í∏∞ÌÉÄ ÌäπÏù¥ÏÇ¨Ìï≠ÏùÑ Ï†ÅÏñ¥Ï£ºÏÑ∏Ïöî." v-model="dogVo.memo"></textarea>
                        </div>




                        <div class="price">

                            <!-- {{ dogVo.size }} -->
                            <!-- <span>ÌÅ¨Í∏∞ÏÑ†ÌÉù</span>
                            <label for="small">ÏÜåÌòïÍ≤¨</label><input id="small" type="radio" name="size" value="ÏÜåÌòïÍ≤¨"
                                v-bind:checked="dogVo.size == 'ÏÜåÌòïÍ≤¨'" v-model="dogVo.size">
                            <label for="middle">Ï§ëÌòïÍ≤¨</label><input id="middle" type="radio" name="size" value="Ï§ëÌòïÍ≤¨"
                                v-bind:checked="dogVo.size == 'Ï§ëÌòïÍ≤¨'" v-model="dogVo.size">
                            <label for="big">ÌäπÏàòÍ≤¨</label><input id="big" type="radio" name="size" value="ÌäπÏàòÍ≤¨"
                                v-bind:checked="dogVo.size == 'ÌäπÏàòÍ≤¨'" v-model="dogVo.size"> -->

                            {{ dogVo.size }}
                            <div class="tableBox">
                                <!-- ÏÜåÌòïÍ≤¨, Ï§ëÌòïÍ≤¨ -->
                                <table v-if="dogVo.size === 'ÏÜåÌòïÍ≤¨' || dogVo.size === 'Ï§ëÌòïÍ≤¨'" style="width: 650px;">
                                    <!-- <tr>
                                     <th colspan="7" class="eNonBorder">ÏÜåÌòïÍ≤¨(ÎßêÌã∞Ï¶à, ÏöîÌÅ¨ÏÖî, ÏãúÏ∏Ñ, Ìë∏Îì§ Îì±...)</th>
                                    </tr> -->
                                    <!-- v-for="(priceVo, i) in priceList" v-bind:key="i" -->
                                    <thead>
                                        <tr>
                                            <th>Î™∏Î¨¥Í≤å</th>
                                            <th>Î™©Ïöï</th>
                                            <th>Î∂ÄÎ∂Ñ</th>
                                            <th>Î™©Ïöï+Î∂ÄÎ∂Ñ</th>
                                            <th>ÏñºÍµ¥+Î∂ÄÎ∂Ñ+Î™©Ïöï</th>
                                            <th colspan="2">Í∏∞Î≥∏Ï†ÑÏ≤¥ÎØ∏Ïö©</th>
                                        </tr>
                                    </thead>
                                    <tbody v-for="(priceVo, i) in priceList" :key="i">
                                        <tr v-if="i % 5 == 0">
                                            <th>{{ priceVo.weightDiv }}</th>
                                            <td @click="addPrice(priceVo.onePrice, i)">{{ priceVo.onePrice }}</td>
                                            <td @click="addPrice(priceList[i + 1]?.onePrice, i + 1)">{{ priceList[i +
                                1]?.onePrice }}</td>
                                            <td @click="addPrice(priceList[i + 2]?.onePrice, i + 2)">{{ priceList[i +
                                2]?.onePrice }}</td>
                                            <td @click="addPrice(priceList[i + 3]?.onePrice, i + 3)">{{ priceList[i +
                                3]?.onePrice }}</td>
                                            <td @click="addPrice(priceList[i + 4]?.onePrice, i + 4)">{{ priceList[i +
                                4]?.onePrice }}</td>
                                        </tr>
                                    </tbody>


                                </table>

                                <!-- ÌäπÏàòÍ≤¨ -->
                                <table v-if="dogVo.size == 'ÌäπÏàòÍ≤¨'">
                                    <thead>
                                        <tr>
                                            <th>Î™∏Î¨¥Í≤å</th>
                                            <th>Î™©Ïöï</th>
                                            <th>Î∂ÄÎ∂Ñ</th>
                                            <th>Î™©Ïöï+Î∂ÄÎ∂Ñ</th>
                                            <th>ÏñºÍµ¥+Î∂ÄÎ∂Ñ+Î™©Ïöï</th>
                                            <th>Ïä§Ìè¨ÌåÖ</th>
                                            <th>Í∞ÄÏúÑÏª∑</th>
                                        </tr>
                                    </thead>
                                    <tbody v-for="(priceVo, i) in priceList" :key="i">
                                        <tr v-if="i % 6 == 0">
                                            <th>{{ priceVo.weightDiv }}</th>
                                            <td @click="addPrice(priceVo.onePrice)">{{ priceVo.onePrice }}</td>
                                            <td @click="addPrice(priceList[i + 1]?.onePrice)">{{ priceList[i +
                                1]?.onePrice }}</td>
                                            <td @click="addPrice(priceList[i + 2]?.onePrice)">{{ priceList[i +
                                2]?.onePrice }}</td>
                                            <td @click="addPrice(priceList[i + 3]?.onePrice)">{{ priceList[i +
                                3]?.onePrice }}</td>
                                            <td @click="addPrice(priceList[i + 4]?.onePrice)">{{ priceList[i +
                                4]?.onePrice }}</td>
                                            <td @click="addPrice(priceList[i + 5]?.onePrice)">{{ priceList[i +
                                5]?.onePrice }}</td>
                                        </tr>
                                    </tbody>
                                </table>


                            </div>
                            <table style="width: 650px;">
                                <tbody>
                                    <tr>
                                        <th rowspan="7">Ï∂îÍ∞ÄÏöîÍ∏à</th>
                                    </tr>
                                    <tr v-for="(priceList2, i) in priceList2" :key="i">
                                        <th>{{ priceList2.beauty }}</th>
                                        <td :class="{ 'selected': priceList2.selected }"
                                            @click="toggleSelected(priceList2)">{{ priceList2.onePrice }}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="expectPrice">
                            <p>ÏòàÏÉÅÍ∞ÄÍ≤© {{ this.reserveVo.expectedPrice.toLocaleString() }}Ïõê</p>
                        </div>

                        <div class="point">
                            <label>Ìè¨Ïù∏Ìä∏</label>
                            <input type="number" step="10" v-model="usePoint">
                            <button type="button" @click="useAllPoint">Ï†ÑÏï°ÏÇ¨Ïö©</button>
                            <p>{{ (this.uPoint - this.usePoint).toLocaleString() }}P ÏÇ¨Ïö©Í∞ÄÎä•</p>
                        </div>

                        <div class="notice">
                            <label for="notice">ÏïàÎÇ¥ÏÇ¨Ìï≠ Î∞è ÎØ∏Ïö©Ïãú Ï£ºÏùòÏÇ¨Ìï≠</label>
                            <div id="notice">
                                <strong>ÏïàÎÇ¥ÏÇ¨Ìï≠</strong><br>
                                1. ÎØ∏Ïö© ÌõÑ Ï∂îÍ∞Ä ÏöîÍ∏àÏù¥ Î∞úÏÉùÌï† Ïàò ÏûàÏäµÎãàÎã§. (ÏòàÏïΩÍ∏àÏ†úÏô∏)<br>
                                2. Ïã¨Ïû•Î≥ë/ÎãπÎá®/Í≥†ÌòàÏïï / Î∞úÏûë Îì±Ïùò ÏßÄÎ≥ë Í∏∞ÌÉÄ ÏÇ¨ÎÇòÏõÄ Îì±Ïùò ÏöîÏù∏ÏúºÎ°ú ÎØ∏Ïö©ÏùÑ Ï§ëÎã®Ìï† Ïàò ÏûàÏäµÎãàÎã§. Ïù¥Ïóê Ìï¥ÎãπÌïòÎäî Î∞òÎ†§Í≤¨ ÎØ∏Ïö© Ï§ë ÎòêÎäî ÎØ∏Ïö© ÌõÑ Î¨∏Ï†úÏãú Ï±ÖÏûÑÏùÑ
                                ÏßÄÏßÄ ÏïäÏäµÎãàÎã§. (Ïù¥Î°úÏù∏Ìï¥ ÏßÄÎ∂àÌïú ÎØ∏Ïö©ÎπÑÎäî ÌôòÎ∂àÎêòÏßÄ ÏïäÏäµÎãàÎã§.)<br>
                                3. ÏÇ¨ÎÇòÏö¥ Î∞òÎ†§Í≤¨Ïùò Í≤ΩÏö∞ ÏÇ¨Ï†ÑÏóê ÏïåÎ†§Ï£ºÏãúÍ∏∞ Î∞îÎùºÎ©∞, ÎØ∏Ïö©ÏÇ¨Ïùò Î¨ºÎ¶º ÏÇ¨Í≥†Í∞Ä Î∞úÏÉùÏãú Î≥¥Ìò∏ÏûêÏóêÍ≤å ÏπòÎ£åÎπÑÎ•º Ï≤≠Íµ¨Ìï† Ïàò ÏûàÏäµÎãàÎã§.<br>
                                4. Ïù¥Îäî ÎßåÏùºÏùò ÏÉÅÌô©Ïóê ÎåÄÌïú ÎèôÏùòÏÑúÏù¥Îãà Í≤¨Ï£ºÏùò Ï∂©Î∂ÑÌïú Ïù¥Ìï¥ÏôÄ ÏñëÌï¥Î•º Î∂ÄÌÉÅÎìúÎ¶ΩÎãàÎã§.<br>
                                <br>
                                <strong>[ÎØ∏Ïö© ÌõÑ Ï£ºÏùòÏÇ¨Ìï≠]</strong><br>
                                1. ÏßßÏùÄ Í∏∞Í≥ÑÎØ∏Ïö©Í≥º ÎßéÏùÄ ÌÑ∏ ÏóâÌÇ¥Ïù¥ ÏûàÏùÑÏãú ÎØ∏Ïö© ÌõÑ ÏûêÍ∑πÏù¥ ÏôÄÏÑú Í∏ÅÍ±∞ÎÇò Ìï•ÏùÑ Ïàò ÏûàÏäµÎãàÎã§.<br>
                                - Ïö∞Î¶¨ ÏïÑÍ∞ÄÎì§Ïùò ÌîºÎ∂ÄÎäî ÏÇ¨ÎûåÏóê ÎπÑÌï¥ ÏïΩÌïòÍ∏∞ ÎïåÎ¨∏Ïóê ÎØ∏Ïö© ÌõÑ Í∏ÅÍ±∞ÎÇò Ìï•ÏúºÎ©¥ ÏÉÅÏ≤òÍ∞Ä ÎÇòÍ±∞ÎÇò ÏßÑÎ¨º, Ïã¨ÌïòÎ©¥ ÌîºÍ∞Ä ÎÇ†ÏàòÏûàÏäµÎãàÎã§.<br>
                                Ïö∞Î¶¨ÏïÑÍ∞ÄÍ∞Ä ÏßÄÏÜçÏ†ÅÏúºÎ°ú Ìï•Í≥† Í∏ÅÍ∏∞ Ï†ÑÏóê Î®ºÏ†Ä ÏßÄÏºúÎ¥ê Ï£ºÏãúÍ∏∞ Î∞îÎûçÎãàÎã§.<br>
                                2. ÏùºÏãúÏ†ÅÏúºÎ°ú ÎØ∏Ïö© Ïä§Ìä∏Î†àÏä§Í∞Ä Ïò¨ Ïàò ÏûàÏúºÎÇò ÎåÄÎ∂ÄÎ∂Ñ 2~5Ïùº ÌõÑ Ï†êÏ∞® ÏÇ¨ÎùºÏßÄÍ≤å Îê©ÎãàÎã§.<br>
                                - Î∞•ÏùÑ Î®πÏßÄ ÏïäÍ±∞ÎÇò Íµ¨ÏÑùÏóê Ïà®Ïñ¥ÏûàÎäî Îã§Í±∞ÎÇò, Î∞∞Î≥ÄÏùÑ Î≥¥ÏßÄ ÏïäÎäî Îì± ÎØ∏Ïö© Ï†ÑÏóêÎäî ÏóÜÏóàÎçò ÌñâÎèôÏùÑ Î≥¥Ïùº Ïàò ÏûàÎãµÎãàÎã§.<br>
                                ÎØ∏Ïö©ÏùÑ Î∞òÎ≥µÌïòÎã§ Î≥¥Î©¥ Ï†êÏ∞® Ï¢ãÏïÑÏßÄÍ∏∞ÎèÑ Ìï©ÎãàÎã§. Ìëπ Ïâ¨Í≤å ÏïàÏ†ïÏùÑ Ï∑®Ìï¥Ï£ºÏãúÍ≥†, Ï¢ãÏïÑÌïòÎäî Í∞ÑÏãùÏùÑ Ï±ôÍ≤®Ï£ºÏãúÍ∏∞ Î∞îÎûçÎãàÎã§.<br>
                                3. Ìï≠Î¨∏ Ï£ºÏúÑÏùò ÌÑ∏ Ï†ïÎ¶¨ÏôÄ Ìï≠Î¨∏ÎÇ≠ Ï†úÍ±∞Î°ú ÏóâÎç©Ïù¥Î•º ÎÅåÍ≥† Îã§Îãê Ïàò ÏûàÏäµÎãàÎã§.<br>
                                4. Ïù¥Ï§ëÎ™®(Ìè¨Î©îÎùºÎãàÏïà, Ïä§ÌîºÏ∏†, ÌèºÌîºÏ∏†, ÌéòÌÇ§, Ïõ∞Ïãú Îì±) ÏïÑÏù¥Îì§ÏùÄ ÌÅ¥Î¶¨ÌçºÎ°ú Î™∏ÏùÑ ÎØ∏Ïö©ÌñàÏùÑ Ïãú ÏïåÎ°úÌéòÏù¥ÏÇ¨Ï¶ùÌõÑÍµ∞Ïù¥ Ïò¨ Ïàò ÏûàÏúºÎ©∞,
                                Í∑∏Î°úÏù∏Ìï¥ ÌÑ∏Ïù¥ ÎÇòÏßÄ ÏïäÏùÑ Ïàò ÏûàÏäµÎãàÎã§. Ïù¥Î•º ÏàôÏßÄÌïòÏãúÍ≥† ÏïÑÏù¥Îì§Ïùò ÎØ∏Ïö©Ïä§ÌÉÄÏùºÏùÑ Í≤∞Ï†ïÌï¥Ï£ºÏãúÍ∏∞ Î∞îÎûçÎãàÎã§.<br>
                                - Í∞ÄÍ∏âÏ†Å Í∞ÄÏúÑÏª∑ Ï∂îÏ≤úÎìúÎ¶ΩÎãàÎã§.<br>
                                5. ÌèâÏÜåÏóî ÌÑ∏Ïóê Í∞ÄÎ†§Ï†∏ Î≥¥Ïù¥ÏßÄ ÏïäÏïòÎçò ÌîºÎ∂ÄÎ≥ëÏù¥ ÎØ∏Ïö© ÌõÑÏóê Î∞úÍ≤¨Îê† Ïàò ÏûàÏäµÎãàÎã§.<br>
                                6. Í∑Ä ÏßàÌôòÏù¥ÎÇò ÌîºÎ∂Ä ÏßàÌôòÏù¥ ÏûàÎäî Í≤ΩÏö∞Îäî Î∞òÎìúÏãú Î≥ëÏõê ÏπòÎ£åÎ•º Î∞õÍ∏∏ Î∞îÎûçÎãàÎã§.<br>
                                7. ÏÉùÏãùÍ∏∞ Î∞è Í∑ÄÌÑ∏ Ï†úÍ±∞ÏóêÏÑú ÏûêÍ∑πÏùÑ ÏµúÏÜåÌôîÌïòÍ∏∞ ÏúÑÌï¥ ÏßÄÏ†ÄÎ∂ÑÌï¥ Î≥¥Ïùº Ïàò ÏûàÎäî Ï†ê ÏñëÌï¥ Î∂ÄÌÉÅÎìúÎ¶ΩÎãàÎã§.<br>
                            </div>
                            <div>
                                <input type="checkbox" id="agreeCheckbox" disabled>ÏïàÎÇ¥ÏÇ¨Ìï≠ Î∞è ÎØ∏Ïö©Ïãú Ï£ºÏùòÏÇ¨Ìï≠Ïóê ÎèôÏùòÌï©ÎãàÎã§.
                            </div>
                        </div>



                        <div class="signBox">
                            <label>Ï†ÑÏûêÏÑúÎ™Ö</label>
                            <div class="sign">
                                <SignaturePad />
                            </div>
                        </div>

                        <div class="cal">
                            <p>ÎÖ∏ÏáºÎ∞©ÏßÄÎ•º ÏúÑÌï¥ ÏòàÏïΩÍ∏à 20,000ÏõêÏùÑ Î∞õÍ≥† ÏûàÏäµÎãàÎã§.</p>
                            <button type="button" v-for="(payment, index) in paymentMethods" :key="index"
                                @click="togglePayment(index)" :class="{ 'selected': selectedPayment === index }">
                                {{ payment }}
                            </button>
                        </div>
                    </div>
                </form>
                <div class="subBtn">
                    <button type="submit">ÏòàÏïΩ</button>
                </div>
            </div>
        </div>

        <TopButton />
        <AppFooter />
    </div><!-- wrap -->
</template>

<script>
import AppFooter from "@/components/AppFooter.vue"
import AppHeader from "@/components/AppHeader.vue"

import axios from "axios"

import '@/assets/css/mypage/mypage.css'
import Datepicker from '@/components/DatePicker.vue'
import SideBar from '@/components/SideBar.vue'
import SignaturePad from "@/components/SignaturePad.vue"
import TopButton from "@/components/TopButton.vue"




export default {
    name: "ReservationFormView",
    components: {
        AppHeader,
        AppFooter,
        Datepicker,
        SideBar,
        TopButton,
        SignaturePad,

    },
    data() {
        return {
            reserveList: [],
            // Í≥†Í∞ù
            reserveVo: {
                rsNo: 0,
                bNo: 1,
                dogNo: 0,
                rtDate: "",
                rtTime: null,
                singImg: "",
                expectedPrice: 0,
                attitude: "",
                rContdition: "",
                tangle: "",
                disliked: "",
                bath: "",
                surcharge: 0,
                message: "",
                curruntWeight: 0,
            },
            // ÏÇ¨ÏóÖÏûê
            businessVo: {
                saveName: "",
                bNo: 1,
                title: "",
                bPhone: "",
                bAddress: "",
                bdAddress: "",
                averageStar: 0.0,
                rtDate: "",
                rsTime: "",
            },
            dogList: [],
            dogVo: {
                uNo: this.$store.state.authUser.uNo,
                dogNo: "",
                dogName: "",
                neutering: false,
                experience: false,
                bite: 0,
                memo: "",
                size: "",
                skin: false,
                heart: false,
                marking: false,
                mounting: false,
            },
            priceList: [],
            priceList2: [],
            priceVo: {
                priceNo: 0,
                beautyNo: 0,
                bNo: 1,
                onePrice: 0,
                sizeDiv: "",
                weightDiv: "",
                beauty: "",
            },
            // Ïú†Ï†Ä
            uPoint: 0,
            isClicked: false,    //Ìè¨Ïù∏Ìä∏Î≤ÑÌäº
            usePoint: 0,
            paymentMethods: ['Ìú¥ÎåÄÌè∞', 'Î¨¥ÌÜµÏû•ÏûÖÍ∏à'], // ÏÇ¨Ïö© Í∞ÄÎä•Ìïú Í≤∞Ï†ú Î∞©Î≤ï
            selectedPayment: null, // ÏÑ†ÌÉùÎêú Í≤∞Ï†ú Î∞©Î≤ï Ïù∏Îç±Ïä§
        };
    },


    methods: {


        //Í∞ÄÍ≤åÏ†ïÎ≥¥
        getBList() {
            console.log("Í∞ÄÍ≤åÏ†ïÎ≥¥ Í∞ÄÏ†∏Ïò§Í∏∞");
            console.log(this.businessVo);
            let bNo = this.businessVo.bNo;
            axios({
                method: 'get',  //put,post,delete
                url: `${this.$store.state.apiBaseUrl}/api/mypage/getbList`,
                headers: { "Content-Type": "application/json; charset=utf-8" }, //Ï†ÑÏÜ°ÌÉÄÏûÖ
                params: { bNo: bNo },
                responseType: 'json' //ÏàòÏã†ÌÉÄÏûÖ
            }).then(response => {
                console.log("ÏÑ±Í≥µ");
                console.log(response.data.apiData); //ÏàòÏã†Îç∞Ïù¥ÌÉÄ
                this.businessVo = response.data.apiData;

                console.log(this.businessList);
            }).catch(error => {
                console.log(error);
            });
        },

        // ÏãúÍ∞ÑÏÑ†ÌÉù, Í∞ÄÏ†∏Ïò§Í∏∞
        toggleTime(time) {
            console.log(time);
            if (this.reserveVo.rtTime == time) {
                // Ïù¥ÎØ∏ ÏÑ†ÌÉùÎêú ÏãúÍ∞ÑÏùÑ ÌÅ¥Î¶≠Ìïú Í≤ΩÏö∞ ÏÑ†ÌÉù Ìï¥Ï†ú
                this.reserveVo.rtTime = null;
            } else {
                // ÌÅ¥Î¶≠Ìïú ÏãúÍ∞ÑÏùÑ ÏÑ†ÌÉù
                this.reserveVo.rtTime = time;
            }
        },

        // Î∞òÎ†§Í≤¨ÏÑ†ÌÉù
        getPetList() {
            console.log("ÎÇ¥ Î∞òÎ†§Í≤¨ Í∞ÄÏ†∏Ïò§Í∏∞");
            // console.log(this.dogVo)
            console.log(this.dogVo.uNo);
            axios({
                method: 'get',  //put,post,delete
                url: `${this.$store.state.apiBaseUrl}/api/mypage/getpetlist`,
                headers: { "Content-Type": "application/json; charset=utf-8" }, //Ï†ÑÏÜ°ÌÉÄÏûÖ
                params: { uNo: this.dogVo.uNo },
                responseType: 'json' //ÏàòÏã†ÌÉÄÏûÖ
            }).then(response => {
                console.log("Î∞òÎ†§Í≤¨ÏÑ±Í≥µ");
                console.log(response.data.apiData); //ÏàòÏã†Îç∞Ïù¥ÌÉÄ

                this.dogList = response.data.apiData;

            }).catch(error => {
                console.log(error);
            });
        },




        // Î∞òÎ†§Í≤¨Ï†ïÎ≥¥ Í∞ÄÏ†∏Ïò§Í∏∞
        selectedDogClick() {
            console.log(this.selectedDog);
            axios({
                method: 'get',  //put,post,delete
                url: `${this.$store.state.apiBaseUrl}/api/mypage/getpetinfor`,
                headers: { "Content-Type": "application/json; charset=utf-8" }, //Ï†ÑÏÜ°ÌÉÄÏûÖ
                params: { dogNo: this.selectedDog },
                responseType: 'json' //ÏàòÏã†ÌÉÄÏûÖ
            }).then(response => {
                console.log("ÏÑ±Í≥µ");
                console.log(response.data.apiData); //ÏàòÏã†Îç∞Ïù¥ÌÉÄ
                this.dogVo = response.data.apiData;
                this.getPrice();
                this.getPlusPrice();
                this.reserveVo.expectedPrice = 0;
            }).catch(error => {
                console.log(error);
            });
        },

        // ÌäπÏù¥ÏÇ¨Ìï≠ Î≤ÑÌäº
        toggleSkinStatus() {
            this.dogVo.skin = !this.dogVo.skin; // ÌîºÎ∂ÄÎ≥ë ÏÉÅÌÉú ÌÜ†Í∏Ä
        },
        toggleHeartStatus() {
            this.dogVo.heart = !this.dogVo.heart; // Ïã¨Ïû•ÏßàÌôò ÏÉÅÌÉú ÌÜ†Í∏Ä
        },
        toggleMarkingStatus() {
            this.dogVo.marking = !this.dogVo.marking; // ÎßàÌÇπ ÏÉÅÌÉú ÌÜ†Í∏Ä
        },
        toggleMountingStatus() {
            this.dogVo.mounting = !this.dogVo.mounting;
        },


        // Í∞ÄÍ≤©ÌëúÍ∞ÄÏ†∏Ïò§Í∏∞
        getPrice() {
            console.log("Í∞ÄÍ≤©Ìëú Í∞ÄÏ†∏Ïò§Í∏∞");
            console.log("ÏÇ¨ÏóÖÏûêÎ≤àÌò∏ : ", this.priceVo.bNo);
            console.log("ÌÅ¨Í∏∞ : ", this.dogVo.size);
            axios({
                method: 'get',  //put,post,delete
                url: `${this.$store.state.apiBaseUrl}/api/mypage/getprice`,
                headers: { "Content-Type": "application/json; charset=utf-8" }, //Ï†ÑÏÜ°ÌÉÄÏûÖ
                params: { bNo: this.priceVo.bNo, sizeDiv: this.dogVo.size },
                responseType: 'json' //ÏàòÏã†ÌÉÄÏûÖ
            }).then(response => {
                console.log("Í∞ÄÍ≤©Í∞ÄÏ†∏Ïò§Í∏∞ÏÑ±Í≥µ");
                console.log(response.data.apiData); //ÏàòÏã†Îç∞Ïù¥ÌÉÄ
                this.priceList = response.data.apiData;

            }).catch(error => {
                console.log(error);
            });
        },

        // Ï∂îÍ∞ÄÏöîÍ∏àÍ∞ÄÏ†∏Ïò§Í∏∞
        getPlusPrice() {
            console.log("Í∞ÄÍ≤©Ìëú-Ï∂îÍ∞ÄÏöîÍ∏à Í∞ÄÏ†∏Ïò§Í∏∞");
            axios({
                method: 'get',  //put,post,delete
                url: `${this.$store.state.apiBaseUrl}/api/mypage/getplusprice`,
                headers: { "Content-Type": "application/json; charset=utf-8" }, //Ï†ÑÏÜ°ÌÉÄÏûÖ
                params: { bNo: this.priceVo.bNo },
                responseType: 'json' //ÏàòÏã†ÌÉÄÏûÖ
            }).then(response => {
                console.log("Í∞ÄÍ≤©Ìëú-Ï∂îÍ∞ÄÏöîÍ∏à Í∞ÄÏ†∏Ïò§Í∏∞");
                console.log(response.data.apiData); //ÏàòÏã†Îç∞Ïù¥ÌÉÄ
                this.priceList2 = response.data.apiData;

            }).catch(error => {
                console.log(error);
            });
        },

        // Ï∂îÍ∞ÄÏöîÍ∏à Î≤ÑÌäº
        toggleSelected(priceList2) {
            priceList2.selected = !priceList2.selected; // ÏÉÅÌÉúÎ•º ÌÜ†Í∏ÄÌï©ÎãàÎã§
            if (priceList2.selected) {
                console.log('ÏÑ†ÌÉùÌïú Í∞í :', priceList2.onePrice);
                this.reserveVo.expectedPrice += priceList2.onePrice; // priceVo.onePriceÏóê ÏÑ†ÌÉùÌïú Í∞íÏùò ÎàÑÏ†ÅÏùÑ ÏàòÌñâÌï©ÎãàÎã§.
            } else {
                console.log('ÏÑ†ÌÉù Ï∑®ÏÜåÌïú Í∞í :', priceList2.onePrice);
                this.reserveVo.expectedPrice -= priceList2.onePrice; // ÏÑ†ÌÉù Ï∑®ÏÜåÌïú Í∞íÏùò Ï∞®Í∞êÏùÑ ÏàòÌñâÌï©ÎãàÎã§.
            }
        },

        // ÏòàÏÉÅÍ∞ÄÍ≤©
        addPrice(price) {
            console.log("Í∞ÄÍ≤©ÏòàÏÉÅÌÅ¥Î¶≠");
            this.reserveVo.expectedPrice = price;
            console.log(this.reserveVo.expectedPrice);
            this.selectedCell = price !== undefined ? price : null;

            // priceList2 Î∞∞Ïó¥Ïùò Î™®Îì† ÏöîÏÜåÏùò selected ÏÜçÏÑ±ÏùÑ Ï¥àÍ∏∞Ìôî
            this.priceList2.forEach(item => {
                item.selected = false;
            });

        },

        // Ìè¨Ïù∏Ìä∏Î≤ÑÌäº
        useAllPoint() {
            this.usePoint = this.uPoint;
        },


        // Ïú†Ï†ÄÌè¨Ïù∏Ìä∏
        getPoint() {
            console.log("Ïú†Ï†ÄÌè¨Ïù∏Ìä∏ Í∞ÄÏ†∏Ïò§Í∏∞");
            axios({
                method: 'get',  //put,post,delete
                url: `${this.$store.state.apiBaseUrl}/api/mypage/getpoint`,
                headers: { "Content-Type": "application/json; charset=utf-8" }, //Ï†ÑÏÜ°ÌÉÄÏûÖ
                params: { uNo: this.dogVo.uNo },
                responseType: 'json' //ÏàòÏã†ÌÉÄÏûÖ
            }).then(response => {
                console.log("Ïú†Ï†ÄÌè¨Ïù∏Ìä∏ Í∞ÄÏ†∏Ïò§Í∏∞");
                console.log(response.data.apiData); //ÏàòÏã†Îç∞Ïù¥ÌÉÄ
                this.uPoint = response.data.apiData.uPoint;
            }).catch(error => {
                console.log(error);
            });
        },

        // Í≤∞Ï†úÎ∞©Î≤ï Î≤ÑÌäº
        togglePayment(index) {
            // Ïù¥ÎØ∏ ÏÑ†ÌÉùÎêú Í≤∞Ï†ú Î∞©Î≤ïÏù¥ÎùºÎ©¥ ÏÑ†ÌÉù Ï∑®ÏÜåÌïòÍ≥†, ÏïÑÎãàÎùºÎ©¥ ÏÑ†ÌÉùÌï©ÎãàÎã§.
            this.selectedPayment = this.selectedPayment === index ? null : index;
        }

    },

    mounted() {
        const noticeElement = document.getElementById('notice');
        const checkbox = document.getElementById('agreeCheckbox');

        noticeElement.addEventListener('scroll', () => {
            if (noticeElement.scrollTop + noticeElement.clientHeight >= noticeElement.scrollHeight) {
                checkbox.disabled = false;
            }
        });
    },

    created() {
        this.getBList();
        this.getPetList();
        this.getPoint();
    }
};
</script>

<style>
#reservationForm .selected {
    background-color: #236C3F !important;
    color: #ffffff !important;
}


.star-rating {
    font-size: 24px;
    color: #ccc;
    display: flex;
}

.star {
    position: relative;
    display: inline-block;
    width: 24px;
    height: 24px;
    overflow: hidden;
}

.star .star-filled {
    position: absolute;
    top: 0;
    left: 0;
    color: #f5c518;
    overflow: hidden;
    white-space: nowrap;
}

.star .star-empty {
    position: absolute;
    top: 0;
    left: 0;
    color: #ccc;
}
</style>
